<Window x:Class="ModernWPF.Sample.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:modern="http://modernwpf"
        xmlns:local="clr-namespace:ModernWPF.Sample"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:vm="clr-namespace:ModernWPF.Sample.VM"
        x:Name="theWindow"
        Title="ModernWPF - Test" Height="610" Width="880"
        ResizeMode="CanResizeWithGrip" 
        Style="{StaticResource ModernWindowFull}"
        DataContext="{StaticResource appVM}"
        modern:MouseEvents.MouseHWheel="theWindow_MouseHWheel">
    <Window.Resources>
        <sys:String x:Key="shortString">Lorem ipsum dolor sit amet</sys:String>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>


        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 0 110 0">
            <Button Style="{StaticResource ModernCaptionButton}" Content="caption button 1"></Button>
            <Button Style="{StaticResource ModernCaptionButton}" Content="caption button disabled" IsEnabled="False"></Button>
        </StackPanel>

        <Menu Grid.Row="1">
            <MenuItem Header="_FILE">
                <MenuItem Header="has sub" IsChecked="True">
                    <MenuItem Header="has sub">
                        <MenuItem Header="asdf" IsChecked="True"></MenuItem>
                        <MenuItem Header="asdf"></MenuItem>
                        <MenuItem Header="asdf"></MenuItem>
                        <MenuItem Header="asdf"></MenuItem>
                    </MenuItem>
                    <MenuItem Header="asdf"></MenuItem>
                    <MenuItem Header="asdf"></MenuItem>
                    <MenuItem Header="asdf"></MenuItem>
                    <MenuItem Header="asdf"></MenuItem>
                </MenuItem>
                <MenuItem Header="asdf"></MenuItem>
                <MenuItem Header="asdf"></MenuItem>
                <MenuItem Header="asdf"></MenuItem>
                <MenuItem Header="asdf"></MenuItem>
                <Separator/>
                <MenuItem Header="asdf"></MenuItem>
            </MenuItem>
            <MenuItem Header="_EDIT">
                <MenuItem Header="asdf"></MenuItem>
                <MenuItem Header="asdf"></MenuItem>
                <MenuItem Header="asdf">
                    <MenuItem Header="asdf"></MenuItem>
                    <MenuItem Header="asdf"></MenuItem>
                    <MenuItem Header="asdf"></MenuItem>
                </MenuItem>
                <MenuItem Header="asdf"></MenuItem>
                <MenuItem Header="asdf"></MenuItem>
                <MenuItem Header="asdf"></MenuItem>
            </MenuItem>
            <Separator/>
            <MenuItem Header="_VIEW">
                <MenuItem Header="asdf"></MenuItem>
                <MenuItem Header="asdf">
                    <MenuItem Header="asdf"></MenuItem>
                    <MenuItem Header="asdf"></MenuItem>
                </MenuItem>
                <MenuItem Header="asdf"></MenuItem>
            </MenuItem>
            <MenuItem Header="No items" IsChecked="True"></MenuItem>
        </Menu>

        <TabControl Style="{StaticResource ModernTabControl}" Grid.Row="2" Margin="8">
            <TabItem Header="text controls" Style="{StaticResource ModernTabItem}">
                <modern:ModernContentControl>
                    <StackPanel Orientation="Horizontal">
                        <StackPanel Width="250" DockPanel.Dock="Left" HorizontalAlignment="Left" Margin="8">
                            <TextBlock TextWrapping="Wrap" 
                               Text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam at quam sit amet nisl vestibulum vehicula sed in metus. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nam pellentesque congue ipsum id eleifend. Nulla a turpis vitae justo condimentum posuere. Cras volutpat nisi nunc, sed tincidunt diam sollicitudin a. Suspendisse nec dictum metus. Donec consectetur faucibus arcu ut ullamcorper. Fusce hendrerit aliquam erat." ></TextBlock>

                            <TextBlock Text="Lower case:" Margin="0 10 0 0"></TextBlock>
                            <TextBox Margin="-2 0 0 0" Style="{StaticResource ModernTextBoxNoChrome}" Text="{Binding Source={StaticResource shortString}, Converter={x:Static modern:TextCaseConverter.Instance}, ConverterParameter=lower, Mode=OneTime}"></TextBox>

                            <TextBlock Text="Upper case:" Margin="0 10 0 0"></TextBlock>
                            <TextBox Margin="-2 0 0 0" Style="{StaticResource ModernTextBoxNoChrome}" Text="{Binding Source={StaticResource shortString}, Converter={x:Static modern:TextCaseConverter.Instance}, ConverterParameter=upper, Mode=OneTime}"></TextBox>

                            <TextBlock Text="Title case:" Margin="0 10 0 0"></TextBlock>
                            <TextBox Margin="-2 0 0 0" Style="{StaticResource ModernTextBoxNoChrome}" Text="{Binding Source={StaticResource shortString}, Converter={x:Static modern:TextCaseConverter.Instance}, ConverterParameter=title, Mode=OneTime}"></TextBox>

                        </StackPanel>

                        <StackPanel DockPanel.Dock="Left" HorizontalAlignment="Left" Orientation="Horizontal">

                            <StackPanel Orientation="Vertical" Width="180">
                                <TextBox Text="normal textbox" Margin="2"></TextBox>
                                <TextBox Text="readonly textbox" Margin="2" IsReadOnly="True"></TextBox>
                                <TextBox Text="with leading content" Margin="2">
                                    <modern:TextBoxUI.LeadingElement>
                                        <Border Background="{DynamicResource ModernAccent}" VerticalAlignment="Stretch">
                                            <TextBlock Foreground="{DynamicResource AccentForeground}" Style="{StaticResource MarlettGlyph}" Text="s" Margin="4 0"
                                               VerticalAlignment="Center"/>
                                        </Border>
                                    </modern:TextBoxUI.LeadingElement>
                                </TextBox>
                                <TextBox Text="with trailing content" Margin="2">
                                    <modern:TextBoxUI.TrailingElement>
                                        <Border Background="{DynamicResource ModernAccent}" VerticalAlignment="Stretch">
                                            <TextBlock Foreground="{DynamicResource AccentForeground}" Style="{StaticResource MarlettGlyph}" Text="s" Margin="4 0"
                                               VerticalAlignment="Center"/>
                                        </Border>
                                    </modern:TextBoxUI.TrailingElement>
                                </TextBox>
                                <TextBox Text="" modern:TextBoxUI.WatermarkText="with watermark" Margin="2"></TextBox>
                                <TextBox Text="disabled textbox" Margin="2" IsEnabled="False"></TextBox>

                                <PasswordBox Password="password" Margin="2"></PasswordBox>
                                <PasswordBox modern:TextBoxUI.WatermarkText="password with watermark" Margin="2"></PasswordBox>

                                <DatePicker Margin="2"></DatePicker>
                            </StackPanel>
                            <StackPanel>


                                <Label Content="a label"></Label>

                                <RichTextBox Height="140" Width="140" Margin="2">
                                    <FlowDocument>
                                        <Paragraph>Rich Text Box</Paragraph>
                                        <Paragraph>
                                            <Run>Paragraph 1</Run>
                                        </Paragraph>
                                        <Paragraph>
                                            <Run>Paragraph 2</Run>
                                        </Paragraph>
                                        <Paragraph>
                                            <Run>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam at quam 
                                                sit amet nisl vestibulum vehicula sed in metus. Interdum et malesuada fames ac 
                                                ante ipsum primis in faucibus. Nam pellentesque congue ipsum id eleifend. Nulla a turpis vitae justo 
                                                condimentum posuere. Cras volutpat nisi nunc, sed tincidunt diam sollicitudin a. 
                                                Suspendisse nec dictum metus. Donec consectetur faucibus arcu ut ullamcorper. Fusce hendrerit aliquam erat.</Run>
                                        </Paragraph>
                                    </FlowDocument>
                                </RichTextBox>
                                <ComboBox SelectedIndex="0" Margin="2">
                                    <ComboBoxItem Content="normal combo 1"></ComboBoxItem>
                                    <ComboBoxItem Content="normal combo 2" IsEnabled="False"></ComboBoxItem>
                                    <ComboBoxItem Content="normal combo 3"></ComboBoxItem>
                                    <ComboBoxItem Content="normal combo 4"></ComboBoxItem>
                                    <ComboBoxItem Content="normal combo 5"></ComboBoxItem>
                                    <ComboBoxItem Content="normal combo 6"></ComboBoxItem>
                                </ComboBox>
                                <ComboBox SelectedIndex="1" Margin="2" IsEditable="True">
                                    <ComboBoxItem Content="edit combo 1"></ComboBoxItem>
                                    <ComboBoxItem Content="edit combo 2" IsEnabled="False"></ComboBoxItem>
                                    <ComboBoxItem Content="edit combo 3"></ComboBoxItem>
                                    <ComboBoxItem Content="edit combo 4"></ComboBoxItem>
                                    <ComboBoxItem Content="edit combo 5"></ComboBoxItem>
                                    <ComboBoxItem Content="edit combo 6"></ComboBoxItem>
                                </ComboBox>
                                <ComboBox SelectedIndex="0" Margin="2" IsEnabled="False">
                                    <ComboBoxItem Content="disabled combo"></ComboBoxItem>
                                </ComboBox>

                            </StackPanel>
                            <StackPanel>
                                <Calendar></Calendar>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </modern:ModernContentControl>
            </TabItem>
            <TabItem Header="other controls" Style="{StaticResource ModernTabItem}">
                <modern:ModernContentControl>
                    <StackPanel Orientation="Horizontal">
                        <StackPanel Margin="2">
                            <RadioButton Content="radio button 1"></RadioButton>
                            <RadioButton Content="radio button 2"></RadioButton>
                            <RadioButton Content="radio button 3"></RadioButton>
                            <RadioButton Content="radio button 4" IsEnabled="False"></RadioButton>
                            <RadioButton Content="radio button 5" IsChecked="True" IsEnabled="False"></RadioButton>


                        </StackPanel>
                        <StackPanel Margin="2">
                            <Button Content="no chrome button" Style="{StaticResource ModernButtonNoChrome}"></Button>

                            <Button Content="normal button"></Button>
                            <Button Content="disabled button" IsEnabled="False"></Button>
                            <Button Content="default button" IsDefault="True"></Button>

                            <ToggleButton Content="toggle button"></ToggleButton>

                            <RepeatButton Content="repeat button"></RepeatButton>

                            <Button Content="hyperlink button" Style="{StaticResource ModernHyperlinkButton}"></Button>
                        </StackPanel>
                        <StackPanel Margin="2">
                            <CheckBox Content="a checkbox"></CheckBox>
                            <CheckBox Content="three-state checkbox" IsThreeState="True"></CheckBox>
                            <CheckBox Content="disabled checkbox" IsEnabled="False"></CheckBox>
                            <CheckBox Content="disabled checkbox 2" IsChecked="True" IsEnabled="False"></CheckBox>

                            <Slider Width="150" HorizontalAlignment="Left" Minimum="0" Maximum="100" Value="20" TickPlacement="Both" TickFrequency="10"></Slider>

                            <Thumb Width="10" Height="20"></Thumb>

                            <ProgressBar Maximum="100" Value="50" Margin="0 10"></ProgressBar>
                            <ProgressBar IsIndeterminate="True" Margin="0 10"></ProgressBar>
                            <ProgressBar DataContext="{Binding Progress}" Maximum="{Binding Maximum, Mode=OneWay}" Value="{Binding Value, Mode=OneWay}" Margin="0 10"></ProgressBar>
                            <TextBlock Text="{Binding Progress.Info}"></TextBlock>
                            <Button Content="Test Progress" Command="{Binding TestProgressCommand}"></Button>
                        </StackPanel>
                    </StackPanel>
                </modern:ModernContentControl>
            </TabItem>
            <TabItem Header="lists" Style="{StaticResource ModernTabItem}">
                <modern:ModernContentControl>
                    <StackPanel Orientation="Horizontal">
                        <ListBox Margin="2" DockPanel.Dock="Top">
                            <ListBoxItem Content="listbox item 1"></ListBoxItem>
                            <ListBoxItem Content="disabled item" IsEnabled="False"></ListBoxItem>
                            <ListBoxItem Content="listbox item 3"></ListBoxItem>
                        </ListBox>
                        <ListBox Margin="2" DockPanel.Dock="Top">
                            <ListBoxItem Content="listbox item 1"></ListBoxItem>
                            <ListBoxItem Content="disabled item" IsSelected="True" IsEnabled="False"></ListBoxItem>
                            <ListBoxItem Content="listbox item 3"></ListBoxItem>
                        </ListBox>
                        <ListBox Margin="2" DockPanel.Dock="Top" IsEnabled="False">
                            <ListBoxItem Content="disabled list 1"></ListBoxItem>
                            <ListBoxItem Content="disabled list 2"></ListBoxItem>
                        </ListBox>
                        <ListBox Margin="2" DockPanel.Dock="Top" x:Name="virtualListBox" ItemsSource="{Binding Strings}">
                        </ListBox>
                    </StackPanel>
                </modern:ModernContentControl>
            </TabItem>

            <TabItem Header="grid lists" Style="{StaticResource ModernTabItem}" IsSelected="True">
                <modern:ModernContentControl>

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="ListView" ></TextBlock>
                        <ListView Grid.Row="1" x:Name="lvSample" ItemsSource="{Binding Items}">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=Boolean}" 
                                                    Header="Boolean" ></GridViewColumn>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=String}" 
                                                    Header="String" ></GridViewColumn>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=Number}" 
                                                    Header="Number" ></GridViewColumn>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=Date}" 
                                                    Header="Date" ></GridViewColumn>
                                </GridView>
                            </ListView.View>
                        </ListView>
                        
                        <TextBlock Text="DataGrid" Grid.Column="1"></TextBlock>
                        <DataGrid Grid.Row="1" Grid.Column="1" x:Name="dgSample" CanUserAddRows="True"
                                  HorizontalScrollBarVisibility="Auto" RowHeaderWidth="30" ItemsSource="{Binding Items}">
                        </DataGrid>
                    </Grid>
                </modern:ModernContentControl>
            </TabItem>
            
            <TabItem Header="misc" Style="{StaticResource ModernTabItem}">
                <modern:ModernContentControl>

                    <Grid>
                        <modern:AnimatedScrollViewer HorizontalAlignment="Left" Width="120"
                                                     VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible"
                                                     modern:ScrollViewerUI.OverContent="True">
                            <Border Background="#FFF58383">
                                <TextBlock Text="Scrollbar can also be over content"></TextBlock>
                            </Border>
                        </modern:AnimatedScrollViewer>
                        
                    </Grid>
                </modern:ModernContentControl>
            </TabItem>
        </TabControl>

        <StackPanel Orientation="Vertical" Grid.Row="3">


            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <StackPanel Orientation="Horizontal" Margin="0 0 10 0">
                    <Label Content="Light scale: "></Label>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccent}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentLight1}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentLight2}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentLight3}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentLight4}"></Rectangle>
                </StackPanel>

                <StackPanel Orientation="Horizontal">
                    <Label Content="Alpha scale: "></Label>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentAlpha1}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentAlpha2}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentAlpha3}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentAlpha4}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentAlpha5}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentAlpha6}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentAlpha7}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentAlpha8}"></Rectangle>
                    <Rectangle Width="20" Height="20" Fill="{DynamicResource ModernAccentAlpha9}"></Rectangle>
                </StackPanel>
            </StackPanel>

            <ItemsControl ItemsSource="{Binding Accents}" HorizontalAlignment="Center">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <RadioButton GroupName="GroupColor" Margin="4" ToolTip="{Binding Model.Name}" IsChecked="{Binding IsSelected}">
                            <Rectangle Width="32" Height="32" Margin="0 0 2 2" Fill="{Binding Model.MainBrush}" />
                        </RadioButton>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <StackPanel.Resources>
                    <!--app icons from http://modernuiicons.com/-->
                    <Canvas x:Key="IconWindow" x:Shared="False"  Width="76" Height="76" Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
                        <Path Width="40" Height="30" Canvas.Left="18" Canvas.Top="23" Stretch="Fill" 
                              Fill="{Binding RelativeSource={RelativeSource AncestorType=ButtonBase}, Path=Foreground}" 
                              Data="F1 M 18,23L 58,23L 58,53L 18,53L 18,23 Z M 54,31L 22,31L 22,49L 54,49L 54,31 Z "/>
                    </Canvas>
                    <Canvas x:Key="IconBaby" x:Shared="False" Width="76" Height="76" Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
                        <Path Width="31.6666" Height="44.3333" Canvas.Left="22.1667" Canvas.Top="15.8333" Stretch="Fill" 
                              Fill="{Binding RelativeSource={RelativeSource AncestorType=ButtonBase}, Path=Foreground}" 
                              Data="F1 M 38,15.8333C 41.4978,15.8333 44.3333,18.6689 44.3333,22.1667C 44.3333,25.6645 41.4978,28.5 38,28.5L 42.75,28.5L 43.5417,28.5L 52.25,38L 52.1482,38.1018C 53.1234,38.3974 53.8333,39.3033 53.8333,40.375C 53.8333,41.6867 52.77,42.75 51.4583,42.75C 50.3866,42.75 49.4807,42.0401 49.1851,41.0649L 49.0833,41.1667L 43.6548,35.7381L 44.3333,41.1667L 31.6667,41.1667L 32.3452,35.7381L 26.9167,41.1667L 26.8149,41.0649C 26.5193,42.0401 25.6134,42.75 24.5417,42.75C 23.23,42.75 22.1667,41.6867 22.1667,40.375C 22.1667,39.3033 22.8765,38.3973 23.8518,38.1018L 23.75,38L 32.4583,28.5L 33.25,28.5L 38,28.5C 34.5022,28.5 31.6667,25.6645 31.6667,22.1667C 31.6667,18.6689 34.5022,15.8333 38,15.8333 Z M 45.125,57C 45.125,58.7489 43.7072,60.1667 41.9583,60.1667C 40.2094,60.1667 38.7917,58.7489 38.7917,57C 38.7917,55.4957 39.8406,54.2364 43.5417,51.4583L 39.1875,47.1042L 44.7291,42.75L 50.6666,50.6667L 45.125,57 Z M 30.875,57L 25.3333,50.6667L 31.2708,42.75L 36.8125,47.1042L 32.4583,51.4583C 36.1594,54.2364 37.2083,55.4957 37.2083,57C 37.2083,58.7489 35.7906,60.1667 34.0417,60.1667C 32.2928,60.1667 30.875,58.7489 30.875,57 Z "/>
                    </Canvas>
                    <Canvas x:Key="IconCrown" x:Shared="False" Width="76" Height="76" Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
                        <Path Width="42.1333" Height="39.5" Canvas.Left="16.9667" Canvas.Top="18.5" Stretch="Fill" 
                              Fill="{Binding RelativeSource={RelativeSource AncestorType=ButtonBase}, Path=Foreground}" 
                              Data="F1 M 38.0333,18.5C 39.4877,18.5 40.6667,19.679 40.6667,21.1333C 40.6667,22.5877 39.4877,23.7667 38.0333,23.7667C 36.579,23.7667 35.4,22.5877 35.4,21.1333C 35.4,19.679 36.579,18.5 38.0333,18.5 Z M 56.4666,26.4C 57.921,26.4 59.1,27.579 59.1,29.0333C 59.1,30.4877 57.921,31.6667 56.4666,31.6667C 55.0123,31.6667 53.8333,30.4877 53.8333,29.0333C 53.8333,27.579 55.0123,26.4 56.4666,26.4 Z M 19.6,26.4C 21.0543,26.4 22.2333,27.579 22.2333,29.0333C 22.2333,30.4877 21.0543,31.6667 19.6,31.6667C 18.1456,31.6667 16.9667,30.4877 16.9667,29.0333C 16.9667,27.579 18.1456,26.4 19.6,26.4 Z M 27.5,40.8833L 31.45,54.05L 44.6167,54.05L 48.5667,40.8833C 41.9833,40.8833 38.0333,34.3 38.0333,34.3C 38.0333,34.3 34.0833,40.8833 27.5,40.8833 Z M 38.0333,25.0833C 38.0333,25.0833 41.9833,46.15 55.15,32.9833L 47.25,58L 28.8167,58C 25.7444,50.1 20.9167,32.9833 20.9167,32.9833C 34.0833,46.15 38.0333,25.0833 38.0333,25.0833 Z M 32,51L 31.25,49L 44.75,49L 44,51L 32,51 Z "/>
                    </Canvas>
                    <Canvas x:Key="IconBook" x:Shared="False" Width="76" Height="76" Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
                        <Path Width="26" Height="38" Canvas.Left="25" Canvas.Top="19" Stretch="Fill" 
                              Fill="{Binding RelativeSource={RelativeSource AncestorType=ButtonBase}, Path=Foreground}" 
                              Data="F1 M 25,27L 46,19L 46,22.25L 28.5,29L 31.75,31.25L 51,23.75L 51,48.5L 31.75,57L 25,52L 25,27 Z "/>
                    </Canvas>


                </StackPanel.Resources>
                <modern:AppButton Text="_another window" x:Name="btnWindow" Click="btnWindow_Click" Content="{StaticResource IconWindow}"></modern:AppButton>
                <modern:AppButton Text="_normal dialog" x:Name="btnDialog" Click="btnDialog_Click" Content="{StaticResource IconWindow}"></modern:AppButton>
                <modern:AppButton Text="in window dialog" x:Name="btnDialog2" Click="btnDialog2_Click" Content="{StaticResource IconWindow}"></modern:AppButton>

                <modern:AppButton Text="sys dialog" x:Name="btnSysDiag" Click="btnSysDiag_Click" Content="{StaticResource IconWindow}"
                                  Tag="{Binding ElementName=theWindow}">
                    <modern:AppButton.ContextMenu>
                        <ContextMenu VerticalOffset="-4">
                            <MenuItem Header="File save" x:Name="miFileSave" Command="{Binding SaveFileCommand}" CommandParameter="{Binding PlacementTarget.Tag, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ContextMenu}}}"></MenuItem>
                            <MenuItem Header="File open" x:Name="miFileOpen" Command="{Binding OpenFileCommand}" CommandParameter="{Binding PlacementTarget.Tag, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ContextMenu}}}"></MenuItem>
                            <MenuItem Header="Folder select" x:Name="miFolder" Command="{Binding ChooseFolderCommand}" CommandParameter="{Binding PlacementTarget.Tag, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ContextMenu}}}"></MenuItem>
                        </ContextMenu>
                    </modern:AppButton.ContextMenu>
                </modern:AppButton>
                
                <modern:AppButton Text="msg window" x:Name="btnMsgWindow" Click="btnMsgWindow_Click" Content="{StaticResource IconWindow}"></modern:AppButton>
                <modern:AppButton Text="msg box" x:Name="btnMsgBox" Click="btnMsgBox_Click" Content="{StaticResource IconWindow}"></modern:AppButton>
                <modern:AppButton Text="msg box lang" x:Name="btnLang" Click="btnLang_Click" Content="{StaticResource IconBook}">
                    <modern:AppButton.ContextMenu>
                        <ContextMenu ItemsSource="{Binding Languages}" VerticalOffset="-4">
                            <ContextMenu.ItemContainerStyle>
                                <Style TargetType="MenuItem" BasedOn="{StaticResource ModernMenuItem}">
                                    <Setter Property="IsCheckable" Value="True"></Setter>
                                    <Setter Property="IsChecked" Value="{Binding IsSelected}"></Setter>
                                    <Setter Property="modern:MenuItemUI.GroupName" Value="langGrp"></Setter>
                                </Style>
                            </ContextMenu.ItemContainerStyle>
                        </ContextMenu>
                    </modern:AppButton.ContextMenu>
                </modern:AppButton>
                <modern:AppButton Text="toggle theme" x:Name="btnTheme" Command="{Binding ToggleThemeCommand}" Content="{StaticResource IconCrown}"></modern:AppButton>
                <modern:AppButton Text="toggle rtl" x:Name="btnRtl" Click="btnRtl_Click" Content="{StaticResource IconBaby}"></modern:AppButton>
            </StackPanel>
        </StackPanel>

        <StatusBar Grid.Row="4">
            <StatusBarItem Content="status 1"></StatusBarItem>
            <StatusBarItem Content="status 2"></StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
